(function(t){function e(e){for(var r,s,i=e[0],c=e[1],l=e[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},o={app:0},a=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"1a03":function(t,e,n){},"2bcd":function(t,e,n){"use strict";n("1a03")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=n("ce5b"),a=n.n(o),s=(n("bf40"),n("31bd")),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("Toolbar"),n("div",{attrs:{id:"app"}},[n("router-view")],1)],1)},c=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app-bar",{attrs:{color:"green",dark:"",fixed:""}},[n("v-app-bar-title",{staticClass:"mr-4"},[t._v("VUE TODO")]),n("v-toolbar-items",[t.isLoggedIn?n("v-btn",{attrs:{plain:""}},[n("v-icon",{staticClass:"pr-2"},[t._v("playlist_add_check")]),t._v(" Projects ")],1):t._e()],1),n("v-spacer"),n("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[t.isLoggedIn?t._e():n("v-btn",{attrs:{plain:"",to:"/register"}},[n("v-icon",{staticClass:"pr-2"},[t._v("account_box")]),t._v(" Register ")],1),t.isLoggedIn?t._e():n("v-btn",{attrs:{plain:"",to:"/login"}},[n("v-icon",{staticClass:"pr-2"},[t._v("fingerprint")]),t._v(" Login ")],1),t.isLoggedIn?n("v-btn",{attrs:{plain:""},on:{click:t.logout}},[n("v-icon",{staticClass:"pr-2"},[t._v("exit_to_app")]),t._v(" Logout ")],1):t._e()],1)],1)},u=[],d=n("5530"),p=n("2f62"),f={computed:Object(d["a"])({},Object(p["c"])("authentication",["isLoggedIn"])),methods:Object(d["a"])({},Object(p["b"])("authentication",["logout"]))},v=f,m=n("2877"),g=Object(m["a"])(v,l,u,!1,null,null,null),j=g.exports,k={name:"App",components:{Toolbar:j}},b=k,h=(n("034f"),Object(m["a"])(b,i,c,!1,null,null,null)),_=h.exports,E=n("0e44"),P=n("8c4f"),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs6:"","offset-xs3":""}},[n("h1",[t._v("Register")]),n("v-text-field",{attrs:{label:"Email",placeholder:"Email",value:t.registerEmail},on:{input:t.setRegisterEmail}}),n("v-text-field",{attrs:{label:"Password",placeholder:"Password",type:"password",autocomplete:"new-password",value:t.registerPassword},on:{input:t.setRegisterPassword}}),n("v-alert",{attrs:{type:"error",value:t.registerError}},[t._v(" "+t._s(t.registerError)+" ")]),n("v-btn",{attrs:{color:"green",dark:""},on:{click:t.register}},[n("v-icon",[t._v("account_circle")]),t._v(" Register ")],1)],1)],1)],1)},O=[],y={computed:Object(d["a"])({},Object(p["e"])("authentication",["registerEmail","registerPassword","registerError"])),methods:Object(d["a"])(Object(d["a"])({},Object(p["d"])("authentication",["setRegisterEmail","setRegisterPassword"])),Object(p["b"])("authentication",["register"]))},x=y,T=Object(m["a"])(x,w,O,!1,null,null,null),C=T.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs6:"","offset-xs3":""}},[n("h1",[t._v("Login")]),n("v-text-field",{attrs:{label:"Email",placeholder:"Email",value:t.loginEmail},on:{input:t.setLoginEmail,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)}}}),n("v-text-field",{attrs:{label:"Password",placeholder:"Password",type:"password",autocomplete:"new-password",value:t.loginPassword},on:{input:t.setLoginPassword,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)}}}),n("v-alert",{attrs:{type:"error",value:t.loginError}},[t._v(" "+t._s(t.loginError)+" ")]),n("v-btn",{attrs:{color:"green",dark:""},on:{click:t.login}},[n("v-icon",[t._v("fingerprint")]),t._v(" Login ")],1)],1)],1)],1)},N=[],L={computed:Object(d["a"])({},Object(p["e"])("authentication",["loginEmail","loginPassword","loginError"])),methods:Object(d["a"])(Object(d["a"])({},Object(p["d"])("authentication",["setLoginEmail","setLoginPassword"])),Object(p["b"])("authentication",["login"]))},R=L,$=Object(m["a"])(R,M,N,!1,null,null,null),I=$.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",[n("v-flex",{attrs:{xs4:""}},[n("ProjectsComponent")],1),t.currentProject?n("v-flex",{staticClass:"pl-4",attrs:{xs8:""}},[n("TasksComponent")],1):t._e()],1)],1)},D=[],A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Panel",{attrs:{title:"Projects"}},[t._l(t.projects,(function(e){return n("div",{key:e.id,staticClass:"project mt-2"},[n("EditableRecord",{attrs:{isEditMode:e.isEditMode,title:e.title},on:{onSave:function(n){return t.saveProject(e)},onDelete:function(n){return t.deleteProject(e)},onInput:function(n){return t.setProjectTitle({project:e,title:n})},onEdit:function(n){return t.setEditMode(e)},onClick:function(n){return t.projectClicked(e)}}})],1)})),n("CreateRecord",{attrs:{placeholder:"My project name...",value:t.newProjectName},on:{onInput:t.setNewProjectName,create:t.createProject}})],2)},U=[],F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{staticClass:"mt-4",attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs8:""}},[n("v-text-field",{attrs:{placeholder:t.placeholder,value:t.value},on:{input:function(e){return t.$emit("onInput",e)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("create")}}})],1),n("v-flex",{attrs:{xs4:""}},[n("v-btn",{staticClass:"mt-4",attrs:{dark:"",color:"green"},on:{click:function(e){return t.$emit("create")}}},[n("v-icon",[t._v("add_circle")]),t._v(" Create ")],1)],1)],1)},J=[],z={props:["placeholder","value"]},B=z,V=Object(m["a"])(B,F,J,!1,null,null,null),q=V.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-left",attrs:{xs9:""}},[t._t("default"),t.isEditMode?t._e():n("span",{on:{click:function(e){return t.$emit("onClick")}}},[t._v(" "+t._s(t.title)+" ")]),t.isEditMode?n("v-text-field",{attrs:{autofocus:"",value:t.title},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("onSave")},input:function(e){return t.$emit("onInput",e)}}}):t._e()],2),n("v-flex",{attrs:{xs3:""}},[t.isEditMode?t._e():n("v-icon",{on:{click:function(e){return t.$emit("onEdit")}}},[t._v(" edit ")]),t.isEditMode?n("v-icon",{on:{click:function(e){return t.$emit("onSave")}}},[t._v(" check ")]):t._e(),n("v-icon",{staticClass:"ml-2 danger",attrs:{color:"red"},on:{click:function(e){return t.$emit("onDelete")}}},[t._v(" delete ")])],1)],1)},H=[],K={props:["isEditMode","title","record"]},Q=K,W=Object(m["a"])(Q,G,H,!1,null,null,null),X=W.exports,Y={mounted:function(){this.fetchProjects()},components:{CreateRecord:q,EditableRecord:X},computed:Object(d["a"])({},Object(p["e"])("projects",["newProjectName","projects"])),methods:Object(d["a"])(Object(d["a"])(Object(d["a"])({projectClicked:function(t){this.setCurrentProject(t),this.fetchTasksForProject(t)}},Object(p["d"])("projects",["setNewProjectName","setEditMode","setProjectTitle","setCurrentProject"])),Object(p["b"])("projects",["createProject","fetchProjects","saveProject","deleteProject"])),Object(p["b"])("tasks",["fetchTasksForProject"]))},Z=Y,tt=(n("2bcd"),Object(m["a"])(Z,A,U,!1,null,null,null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Panel",{attrs:{title:"Tasks"}},[t._l(t.tasks,(function(e){return n("div",{key:e.id,staticClass:"tasks mt-2"},[n("EditableRecord",{attrs:{isEditMode:e.isEditMode,title:e.description},on:{onInput:function(n){return t.setTaskDescription({task:e,description:n})},onClick:function(n){return t.taskClicked(e)},onEdit:function(n){return t.setEditMode(e)},onSave:function(n){return t.saveTask(e)},onDelete:function(n){return t.deleteTask(e)}}},[n("v-icon",{on:{click:function(n){return t.checkClicked(e)}}},[t._v(t._s(e.completed?"check_box":"check_box_outline_blank"))])],1)],1)})),n("CreateRecord",{attrs:{placeholder:"I need to...",value:t.newTaskName},on:{onInput:t.setNewTaskName,create:t.createTask}})],2)},rt=[],ot={computed:Object(d["a"])({},Object(p["e"])("tasks",["tasks","newTaskName"])),components:{CreateRecord:q,EditableRecord:X},methods:Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(p["b"])("tasks",["createTask","deleteTask","saveTask"])),Object(p["d"])("tasks",["setNewTaskName","setTaskDescription","setEditMode","toggleCompleted"])),{},{checkClicked:function(t){this.toggleCompleted(t),this.saveTask(t)}})},at=ot,st=(n("b6bf"),Object(m["a"])(at,nt,rt,!1,null,null,null)),it=st.exports,ct={components:{ProjectsComponent:et,TasksComponent:it},mounted:function(){if(!this.isLoggedIn)return pt.push("/login")},computed:Object(d["a"])(Object(d["a"])({},Object(p["e"])("projects",["currentProject"])),Object(p["c"])("authentication",["isLoggedIn"]))},lt=ct,ut=Object(m["a"])(lt,S,D,!1,null,null,null),dt=ut.exports;r["default"].use(P["a"]);var pt=new P["a"]({routes:[{path:"/",name:"projects",component:dt},{path:"/register",name:"register",component:C},{path:"/login",name:"login",component:I}]}),ft=n("bc3a"),vt=n.n(ft),mt=function(){return vt.a.create({baseURL:bt.state.baseUrl,timeout:5e3,headers:{Authorization:"Bearer ".concat(bt.state.authentication.token)}})},gt={namespaced:!0,state:{registerEmail:null,registerPassword:null,registerError:null,loginEmail:null,loginPassword:null,loginError:null,token:null},actions:{register:function(t){var e=t.commit,n=t.state;return e("setRegisterError",null),mt().post("auth/register",{email:n.registerEmail,password:n.registerPassword}).then((function(t){var n=t.data;e("setToken",n.token),pt.push("/")})).catch((function(){e("setRegisterError","An error has ocured trying to create your accoutn")}))},logout:function(t){var e=t.commit;e("setToken",null),pt.push("/login")},login:function(t){var e=t.commit,n=t.state;return e("setLoginError",null),mt().post("auth/login",{email:n.loginEmail,password:n.loginPassword}).then((function(t){var n=t.data;e("setToken",n.token),pt.push("/")})).catch((function(){e("setLoginError","An error has ocured trying to login your accoutn")}))}},getters:{isLoggedIn:function(t){return!!t.token}},mutations:{setToken:function(t,e){t.token=e},setRegisterError:function(t,e){t.registerError=e},setRegisterEmail:function(t,e){t.registerEmail=e},setRegisterPassword:function(t,e){t.registerPassword=e},setLoginError:function(t,e){t.loginError=e},setLoginEmail:function(t,e){t.loginEmail=e},setLoginPassword:function(t,e){t.loginPassword=e}}},jt=(n("a434"),{namespaced:!0,state:{projects:[],currentProject:null,newProjectName:null},actions:{createProject:function(t){var e=t.commit,n=t.state;return mt().post("/projects",{title:n.newProjectName}).then((function(t){var n=t.data;e("appendProject",n),e("setNewProjectName",null)}))},fetchProjects:function(t){var e=t.commit;return mt().get("/projects").then((function(t){var n=t.data;e("setProjects",n)}))},saveProject:function(t,e){var n=t.commit;return mt().patch("/projects/".concat(e.id),e).then((function(){n("unsetEditMode",e)}))},deleteProject:function(t,e){var n=t.commit;return mt().delete("/projects/".concat(e.id)).then((function(){n("removeProject",e)}))}},getters:{},mutations:{setCurrentProject:function(t,e){t.currentProject=e},setNewProjectName:function(t,e){t.newProjectName=e},appendProject:function(t,e){t.projects.push(e)},setProjects:function(t,e){t.projects=e},setProjectTitle:function(t,e){var n=e.project,r=e.title;n.title=r},setEditMode:function(t,e){r["default"].set(e,"isEditMode",!0)},unsetEditMode:function(t,e){r["default"].set(e,"isEditMode",!1)},removeProject:function(t,e){t.projects.splice(t.projects.indexOf(e),1)}}}),kt=(n("a4d3"),n("e01a"),{namespaced:!0,state:{tasks:[],newTaskName:null},actions:{fetchTasksForProject:function(t,e){var n=t.commit;return mt().get("projects/".concat(e.id,"/tasks")).then((function(t){var e=t.data;n("setTasks",e)}))},createTask:function(t){var e=t.commit,n=t.state,r=t.rootState;return mt().post("/projects/".concat(r.projects.currentProject.id,"/tasks"),{description:n.newTaskName}).then((function(t){var n=t.data;e("appendTask",n),e("setNewTaskName",null)}))},saveTask:function(t,e){var n=t.commit;return mt().patch("/tasks/".concat(e.id),e).then((function(){n("unsetEditMode",e)}))},deleteTask:function(t,e){var n=t.commit;return mt().delete("/tasks/".concat(e.id)).then((function(){n("removeTask",e)}))}},getters:{},mutations:{setTasks:function(t,e){t.tasks=e},setNewTaskName:function(t,e){t.newTaskName=e},appendTask:function(t,e){t.tasks.push(e)},setTaskDescription:function(t,e){var n=e.task,r=e.description;n.description=r},setEditMode:function(t,e){r["default"].set(e,"isEditMode",!0)},unsetEditMode:function(t,e){r["default"].set(e,"isEditMode",!1)},removeTask:function(t,e){t.tasks.splice(t.tasks.indexOf(e),1)},toggleCompleted:function(t,e){e.completed=!e.completed}}});r["default"].use(p["a"]);var bt=new p["a"].Store({strict:!0,state:{baseUrl:"/api"},modules:{authentication:gt,projects:jt,tasks:kt},mutations:{},actions:{},plugins:[Object(E["a"])()]}),ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"white elevation-2"},[n("v-toolbar",{attrs:{flat:"",dense:"",dark:"",color:"green"}},[n("v-toolbar-title",[t._v(" "+t._s(t.title)+" ")])],1),n("div",{staticClass:"pl-4 pr-4 pt-2 pb-2"},[t._t("default",(function(){return[t._v("No slot content defined.")]}))],2)],1)},_t=[],Et={props:{title:String}},Pt=Et,wt=Object(m["a"])(Pt,ht,_t,!1,null,null,null),Ot=wt.exports;r["default"].config.productionTip=!1,r["default"].use(a.a),Object(s["sync"])(bt,pt),r["default"].component("Panel",Ot),new r["default"]({router:pt,store:bt,vuetify:new a.a,render:function(t){return t(_)}}).$mount("#app")},"5f44":function(t,e,n){},"85ec":function(t,e,n){},b6bf:function(t,e,n){"use strict";n("5f44")}});
//# sourceMappingURL=app.31ebbe6f.js.map